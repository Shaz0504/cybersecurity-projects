# Internal Penetration Test – Windows & Linux Server Infrastructure

This project simulates a black-box internal penetration test against Windows and Linux servers in a fictional enterprise network. The objective was to identify vulnerable services, gain initial footholds, escalate privileges, maintain persistence, and ultimately extract domain-level credentials through a full red-team attack chain.

The simulation reflects realistic attacker behavior in a misconfigured and poorly segmented environment.

---

## 🎯 Objectives

- Identify and exploit internal services across Windows and Linux systems  
- Escalate privileges to root and local admin  
- Capture and crack password hashes  
- Move laterally across the network using valid credentials  
- Extract NTDS.dit from the domain controller to achieve full domain compromise

---

## 🛠 Tools & Techniques

- **Reconnaissance**: Nmap, Zenmap, manual enumeration  
- **Exploitation**: Metasploit (vsftpd, EternalBlue), Distcc, Responder, WMI  
- **Post-Exploitation**:  
  - Password hash dumping (`/etc/shadow`, SAM)  
  - Credential cracking (John the Ripper)  
  - SSH backdoors, lateral movement via cracked credentials  
  - NTDS.dit and SYSTEM hive extraction from the DC

---

## 🔍 Key Findings

| Issue                               | Risk Level |
|------------------------------------|------------|
| vsftpd backdoor access (Linux)     | Critical   |
| SMB vulnerability (Windows)        | Critical   |
| Hardcoded credentials in scripts   | High       |
| Weak password hashes               | High       |
| LLMNR poisoning + NTLM hash theft  | High       |
| SSH persistence via authorized_keys| Critical   |
| Full domain compromise             | Critical   |

---

## 🧩 Attack Path Summary

1. Discovered vulnerable FTP and Distcc services on Linux servers  
2. Exploited vsftpd and Distcc for shell access  
3. Escalated to root using weak shadow file credentials  
4. Planted SSH backdoors and maintained persistence  
5. Captured NTLMv2 hashes via Responder from Windows systems  
6. Cracked Windows credentials and performed lateral movement using WMI  
7. Accessed the Domain Controller and extracted NTDS.dit and SYSTEM hive

---

## 💥 Impact

> The simulated attacker successfully gained root/admin access on multiple hosts, maintained persistence, and exfiltrated full domain credentials. The attack chain demonstrated critical weaknesses in segmentation, patching, and access control.

---

## 🛡️ Recommendations

- Patch outdated services (vsftpd, SMB, OpenSSH)  
- Enforce strong password policies and disable hardcoded credentials  
- Disable LLMNR and NetBIOS across the network  
- Monitor for WMI and SMB-based lateral movement  
- Regularly audit user accounts and authorized SSH keys  
- Isolate critical systems and implement segmentation policies

---

## 📄 Final Report

[📥 Download Full Penetration Test Report (PDF)](./Pentest_Report.pdf)

---

## 👩‍💻 Skills Demonstrated

- Cross-platform exploitation (Linux + Windows)  
- Internal reconnaissance and service fingerprinting  
- Privilege escalation and post-exploitation persistence  
- Credential harvesting and lateral movement  
- Domain controller compromise and credential dump  
- Reporting, risk assessment, and MITRE ATT&CK mapping

